<!DOCTYPE html>
<head>
<title>
    Rock Paper Sissors
</title>
</head>
<body>
    <h1>Open the console to play</h1>
    <script>

    function playRound(playerSelection, computerSelection)
    /*
    Function takes in arguments of "rock", "paper", or scissors
    and returns 1,2,3, or -1 to indicate win, lose, tie, or bad input
    respectively.
    */
    {
        switch(computerSelection){
            case "Rock":
                if (playerSelection === "paper")
                    return 1;
                if (playerSelection === "sissors")
                    return 2;
                if (playerSelection === "rock")
                    return 3;
            case "Paper":
                if (playerSelection === "scissors")
                    return 1;
                if (playerSelection === "rock")
                    return 2;
                if (playerSelection === "paper")
                    return 3;
            case "Scissors":
                if (playerSelection === "rock")
                    return 1;
                if (playerSelection === "paper")
                    return 2;
                if (playerSelection === "scissors")
                    return 3;
            default:
                return -1;
        }
    }    
    function computerPlay()
    /*
    maps random number 1 - 3 to "rock", "paper", "scissors"
    */
    {
        const numToObject = {
            1: "Rock",
            2: "Paper",
            3: "Scissors"
        }; 
        n = Math.floor(Math.random()*3)+1;
        return numToObject[n];
    }
    function game()
    /*game loop
      prompt for input, run game rounds, tally score
    */
    {
        console.log("Rock Paper Scissors game!");
        numberOfRounds = parseInt(prompt("How many rounds do you want to play?"));
        let pcScore = 0;
        let npcScore = 0;
        let gameResult = 0;
        while (numberOfRounds > 0)
        {
            const playerSelection = prompt("Choose \"Rock\", \"Paper\", or \"Scissors\": ").toLowerCase();
            const computerSelection = computerPlay();
            console.log("You chose " +playerSelection+ ".");
            console.log("The computer chooses " +computerSelection+ ".");
            gameResult = playRound(playerSelection,computerSelection);
            switch(gameResult){
                case 1:
                    pcScore += 1;
                    console.log("You win this round!");
                    break;
                case 2:
                    npcScore += 1;
                    console.log("The computer wins this round!");
                    break;
                case 3:
                    console.log("It's a tie!");
                    break;
                default:
                    console.log("Please enter only \"Rock\", \"Paper\", or \"Scissors\"");
                    ++numberOfRounds;
            }
            --numberOfRounds;
            
        }
        console.log("Game Over!");
        console.log("Final Score: \n");
        console.log("You: " +pcScore+ "\n");
        console.log("Computer: " +npcScore+ "\n");
        
        if (pcScore > npcScore)
            console.log("You win!");
        else if (pcScore < npcScore)
            console.log("Sorry. You Lose.");
        else
            console.log("It's a tie!");
    }

    game();
        
    </script>
</body>
